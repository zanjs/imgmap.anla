<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>图片热链接在线编辑器</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <link href="./build/css/app.css" type="text/css" rel="stylesheet" />
    
</head>
<body>
<noscript>
    <div id="noscript">
        请在浏览器 启用JavaScript
    </div>
</noscript>
<div id="wrapper">
    <header id="header">
        <nav id="nav" class="clearfix">
            <ul>
                <li id="save"><a href="#">存档</a></li>
                <li id="load"><a href="#">加载存档</a></li>
                <li id="from_html"><a href="#">导入html代码</a></li>
                <li id="rect"><a href="#">长方形</a></li>
                <li id="circle"><a href="#">圆形</a></li>
                <li id="polygon"><a href="#">多边形</a></li>
                <li id="edit"><a href="#">编辑属性</a></li>
                <li id="to_html"><a href="#">生成html代码</a></li>
                <li id="preview"><a href="#">预览</a></li>
                <li id="clear"><a href="#">清除</a></li>
                <li id="new_image"><a href="#">新建</a></li>
                <li id="show_edm"><a href="#">生成 EDM.html</a></li>
                <li id="show_help"><a href="#">使用帮助？</a></li>
                <li class="slider"></li>
            </ul>
        </nav>
        <div id="coords"></div>
        <div id="debug"></div>
    </header>
    <div id="image_wrapper">
        <div id="image">
            <img src="" alt="#" id="img" />
            <svg xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny" id="svg"></svg>
        </div>
    </div>
</div>

<!-- 导出 图片地图的html代码 -->
<div id="code">
    <span class="close_button" title="close"></span>
    <div id="code_content">
        <pre><code class="xml" id="codeD">
        &lt;!DOCTYPE html&gt;
        &lt;title&gt;Title&lt;/title&gt;

        &lt;style&gt;body {width: 500px;}&lt;/style&gt;

        &lt;script type=&quot;application/javascript&quot;&gt;
        function $init() {return true;}
        &lt;/script&gt;

        &lt;body&gt;
        &lt;p checked class=&quot;title&quot; id=&#39;title&#39;&gt;Title&lt;/p&gt;
        &lt;!-- here goes the rest of the page --&gt;
        &lt;/body&gt;
        </code></pre>
    </div>
    <div class="copy-box">
        <button class="btn" data-clipboard-action="copy" data-clipboard-target="code">Copy</button>
    </div>
    
</div>

<!-- 编辑属性 -->
<form id="edit_details">
    <h5>编辑当前热区属性</h5>
    <span class="close_button" title="close"></span>
    <p>
        <label for="href_attr">链接(href)</label>
        <input type="text" id="href_attr" />
    </p>
    <p style="display:none">
        <label for="alt_attr">alt</label>
        <input type="text" id="alt_attr" />
    </p>
    <p>
        <label for="title_attr">鼠标悬停标题(title)</label>
        <input type="text" id="title_attr" />
    </p>
    <button id="save_details">保存</button>
</form>

<!-- 导入html代码 -->
<div id="from_html_wrapper">
    <form id="from_html_form">
        <h5>导入选区</h5>
        <span class="close_button" title="close"></span>
        <p>
            <label for="code_input">输入要导入的html代码:</label>
            <textarea id="code_input"></textarea>
        </p>
        <button id="load_code_button">导入</button>
    </form>
</div>
  
<!-- 获取图片区域 -->
<div id="get_image_wrapper">
    <div id="get_image">
        <span title="close" class="close_button"></span>
        <div id="logo_get_image">
            
            <div id="container">

            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="98px" height="100px" viewBox="0 0 98 100" enable-background="new 0 0 98 100" xml:space="preserve">
                    <path fill="#FFFFFF" d="M85.715,26.547h-7.457c1.711-5.512,0.539-11.744-3.043-15.975c-3.587-4.236-9.158-6.766-14.896-6.766
                        c-4.109,0-7.852,1.29-10.733,3.6c-3.045-4.6-9.469-7.03-15.613-7.03c-7.055,0-14.166,3.225-16.001,10.323
                        c-1.147-0.196-2.492-0.347-3.91-0.347c-8.456,0-13.503,5.16-13.846,14.155c-0.185,4.844,1.047,8.677,3.662,11.394
                        c1.359,1.413,3.049,2.442,4.988,3.094v48.546c0,6.663,5.421,12.083,12.083,12.083h43.364c6.662,0,12.084-5.42,12.084-12.083v-9.373
                        c0,0,0,0.001,0.002,0.001c0.006,0,0.013-0.007,0.018-0.008l9.305,0.004c6.661,0,12.084-5.419,12.084-12.083V38.63
                        C97.799,31.968,92.378,26.547,85.715,26.547z"/>
                    <path fill="none" d="M85.715,32.589H75.023v-0.178c-2.688,3-6.535,4.606-11.271,4.606c-4.216,0-8.304-1.251-10.778-2.189
                        c-2.216,2.709-6.748,6.943-13.577,7.167c-0.236,0.008-0.467,0.012-0.696,0.012c-6.706,0-10.612-3.162-12.737-5.904
                        c-2.943,2.091-7.034,3.49-11.06,3.669V87.54c0,3.321,2.719,6.041,6.042,6.041h43.366c3.322,0,6.041-2.72,6.041-6.041v-9.376
                        c0-3.322,2.723-6.041,6.043-6.041h9.318c3.322,0,6.043-2.719,6.043-6.042v-27.45C91.758,35.307,89.037,32.589,85.715,32.589z"/>
                    <path fill="none" d="M75.042,32.605h10.69c1.653,0,3.156,0.674,4.25,1.759c-1.096-1.095-2.606-1.775-4.268-1.775H75.041
                        L75.042,32.605L75.042,32.605z"/>
                    <path fill="none" d="M39.416,42.01c6.829-0.225,11.361-4.458,13.576-7.167c2.476,0.938,6.562,2.188,10.777,2.188
                        c4.727,0,8.567-1.6,11.254-4.588v-0.032c-2.688,3-6.535,4.606-11.271,4.606c-4.216,0-8.303-1.251-10.778-2.189
                        c-2.216,2.709-6.748,6.943-13.577,7.167c-0.236,0.008-0.467,0.012-0.696,0.012c-4.608,0-7.895-1.493-10.189-3.317
                        c2.295,1.831,5.586,3.332,10.207,3.332C38.949,42.022,39.18,42.018,39.416,42.01z"/>
                    <path fill="none" d="M14.923,87.557V39.788c4.025-0.18,8.114-1.577,11.056-3.667c-0.004-0.006-0.01-0.012-0.014-0.018
                        c-2.943,2.091-7.034,3.49-11.06,3.669V87.54c0,1.669,0.688,3.186,1.792,4.281C15.603,90.727,14.923,89.217,14.923,87.557z"/>
                    <polygon fill="#FF9C08" points="80.162,59.326 80.162,45.717 75.939,45.717 75.939,59.33 80.162,59.33 "/>
                    <polygon fill="none" points="75.939,59.33 80.162,59.33 80.162,59.326 80.162,45.717 75.939,45.717 "/>
                    <g>
                        <polygon fill="#FF9C08" points="75.939,59.33 80.162,59.33 80.162,59.326 80.162,45.717 75.939,45.717     "/>
                        <path fill="#FF9C08" d="M89.982,34.364c-1.094-1.085-2.597-1.759-4.25-1.759h-10.69h-0.001v-0.016h-0.018v-0.146
                            c-2.687,2.988-6.527,4.588-11.254,4.588c-4.215,0-8.302-1.25-10.777-2.188c-2.215,2.709-6.747,6.942-13.576,7.167
                            c-0.236,0.008-0.467,0.012-0.696,0.012c-4.621,0-7.912-1.501-10.207-3.332c-1.038-0.825-1.872-1.717-2.534-2.569
                            c-2.942,2.09-7.031,3.487-11.056,3.667v47.769c0,1.66,0.68,3.17,1.774,4.265c1.094,1.086,2.597,1.76,4.25,1.76h43.366
                            c3.322,0,6.041-2.72,6.041-6.041v-9.376c0-3.322,2.723-6.041,6.043-6.041h9.318c3.322,0,6.043-2.719,6.043-6.042v-27.45
                            C91.758,36.97,91.078,35.459,89.982,34.364z M85.6,59.297c0.01,0.526-0.062,2.496-1.494,3.98c-0.656,0.681-1.832,1.492-3.692,1.492
                            h-7.19c-1.502,0-2.721-1.219-2.721-2.72V42.999c0-1.502,1.219-2.719,2.721-2.719h7.03c1.979,0,3.205,0.814,3.884,1.498
                            c1.405,1.417,1.467,3.22,1.463,3.567V59.297z"/>
                    </g>

                    <path opacity="0.3" fill="#FFFFFF" enable-background="new" d="M28.018,81.221c0,1.975-1.6,3.573-3.574,3.573l0,0
                        c-1.974,0-3.574-1.601-3.574-3.573l0,0c0-1.975,1.601-3.574,3.574-3.574l0,0C26.418,77.646,28.018,79.246,28.018,81.221
                        L28.018,81.221z">

                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="2.8s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M39.018,51.221c0,1.975-1.6,3.573-3.574,3.573l0,0
                        c-1.974,0-3.574-1.601-3.574-3.573l0,0c0-1.975,1.601-3.575,3.574-3.575l0,0C37.418,47.646,39.018,49.246,39.018,51.221
                        L39.018,51.221z">

                    <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="4s"
                                        repeatCount="indefinite"/>

                    </path> 

                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M65.018,81.221c0,1.975-1.6,3.573-3.574,3.573l0,0
                        c-1.973,0-3.573-1.601-3.573-3.573l0,0c0-1.975,1.601-3.574,3.573-3.574l0,0C63.418,77.646,65.018,79.246,65.018,81.221
                        L65.018,81.221z">

                    <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="2 50;2 -50;"
                                        dur="2.2s"
                                        repeatCount="indefinite"/>

                    </path> 

                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M58.018,59.221c0,1.975-1.6,3.573-3.574,3.573l0,0
                        c-1.973,0-3.573-1.601-3.573-3.573l0,0c0-1.975,1.601-3.574,3.573-3.574l0,0C56.418,55.646,58.018,57.246,58.018,59.221
                        L58.018,59.221z">

                    <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="2.5s"
                                        repeatCount="indefinite"/>

                    </path>     
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M23.165,61.221c0,0.949-0.771,1.719-1.721,1.719l0,0
                        c-0.949,0-1.72-0.77-1.72-1.719l0,0c0-0.951,0.771-1.721,1.72-1.721l0,0C22.394,59.5,23.165,60.27,23.165,61.221L23.165,61.221z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="3s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M45.165,71.221c0,2.055-1.667,3.719-3.721,3.719l0,0
                        c-2.053,0-3.719-1.664-3.719-3.719l0,0c0-2.056,1.667-3.72,3.719-3.72l0,0C43.498,67.501,45.165,69.165,45.165,71.221L45.165,71.221
                        z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="4s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M43.877,86.221c0,1.344-1.09,2.432-2.434,2.432l0,0
                        c-1.343,0-2.433-1.088-2.433-2.432l0,0c0-1.345,1.09-2.434,2.433-2.434l0,0C42.788,83.787,43.877,84.876,43.877,86.221
                        L43.877,86.221z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="3s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M63.999,42.22c0,1.411-1.146,2.554-2.556,2.554l0,0
                        c-1.408,0-2.553-1.143-2.553-2.554l0,0c0-1.411,1.145-2.554,2.553-2.554l0,0C62.854,39.666,63.999,40.809,63.999,42.22L63.999,42.22
                        z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="3s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M23.109,46.601c0,0.709-0.575,1.283-1.285,1.283l0,0
                        c-0.708,0-1.283-0.573-1.283-1.283l0,0c0-0.709,0.575-1.284,1.283-1.284l0,0C22.534,45.317,23.109,45.891,23.109,46.601
                        L23.109,46.601z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="2s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M53.075,49.444c0,0.709-0.574,1.283-1.284,1.283l0,0
                        c-0.708,0-1.283-0.573-1.283-1.283l0,0c0-0.709,0.575-1.283,1.283-1.283l0,0C52.5,48.161,53.075,48.734,53.075,49.444L53.075,49.444
                        z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="2.5s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M53.497,74.723c0,0.711-0.575,1.283-1.284,1.283l0,0
                        c-0.708,0-1.283-0.572-1.283-1.283l0,0c0-0.709,0.575-1.281,1.283-1.281l0,0C52.921,73.439,53.497,74.014,53.497,74.723
                        L53.497,74.723z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="2.2s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M26.061,70.771c0,0.709-0.575,1.283-1.284,1.283l0,0
                        c-0.708,0-1.283-0.574-1.283-1.283l0,0c0-0.709,0.575-1.283,1.283-1.283l0,0C25.486,69.486,26.061,70.062,26.061,70.771
                        L26.061,70.771z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="0 50;0 -50;"
                                        dur="2s"
                                        repeatCount="indefinite"/>

                    </path> 
                    <path opacity="0.3" fill="#FFFFFF" enable-background="new    " d="M65.877,68.221c0,1.344-1.09,2.432-2.434,2.432l0,0
                        c-1.344,0-2.434-1.088-2.434-2.432l0,0c0-1.345,1.09-2.434,2.434-2.434l0,0C64.788,65.787,65.877,66.876,65.877,68.221
                        L65.877,68.221z">
                        <animateTransform attributeName="transform"
                                        attributeType="XML"
                                        type="translate"
                                        values="-10 50;-10 -50;"
                                        dur="5s"
                                        repeatCount="indefinite"/>

                    </path> 
                    </svg>
        </div>
        <div id="loading">加载</div>
        <div id="file_reader_support">
            <label>把图片拖到这里</label>
            <div id="dropzone">
                <span class="clear_button" title="clear">x</span> 
                <img src="" alt="preview" id="sm_img" />
            </div>
        </div>
        <label for="url">或者输入图片地址</label>
        <span id="url_wrapper">
            <span class="clear_button" title="clear">x</span>
            <input type="text" id="url" />
        </span>
        <button id="button">确认</button>
        <button id="get-edm">获取 EDM 图片</button>
    </div>
</div>
</div>
<!-- 帮助信息 -->
<div id="overlay"></div>
<div id="help">
    <span class="close_button" title="close"></span>
    <div class="txt">
        <section>
            <h2>主要快捷键</h2>
            <p><span class="key">F5</span> &mdash; 重新加载页面</p>
            <p><span class="key">S</span> &mdash; 保存当前绘制信息</p>
        </section>
        <section>
            <h2>绘图模式 (长方形 / 圆形 / 多边形)</h2>
            <p><span class="key">ENTER</span> &mdash; 停止多边形绘图（或单击另绘图模式）</p>
            <p><span class="key">ESC</span> &mdash; 取消新区绘图</p>
            <p><span class="key">SHIFT</span> &mdash; 在绘制多边形断点结束绘制下一条边</p>
        </section>
        <section>
            <h2>编辑模式</h2>
            <p><span class="key">DELETE</span> &mdash; 删除选定区域</p>
            <p><span class="key">ESC</span> &mdash; 取消选定区域的编辑</p>
            <p><span class="key">SHIFT</span> &mdash; 编辑并保存为矩形比例</p>
            <p><span class="key">I</span> &mdash; 选定区域的编辑属性（或双击当前选区）</p>
            <p><span class="key">CTRL</span> + <span class="key">C</span> &mdash; 拷贝所选区域</p>
            <p><span class="key">&uarr;</span> &mdash; 向上移动所选区域</p>
            <p><span class="key">&darr;</span> &mdash; 向下移动所选区域</p>
            <p><span class="key">&larr;</span> &mdash; 向左移动所选区域</p>
            <p><span class="key">&rarr;</span> &mdash; 向右移动所选区域</p>
        </section>
    </div>
    <footer class="footer">
      图片热链接在线编辑器 @Julian
    </footer>
</div>

<script type="text/javascript" src="./build/js/P.js?v20160504"></script>
<script type="text/javascript" src="./build/js/app.js?v20160504"></script>
</body>
</html>
